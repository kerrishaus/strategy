<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>strategy</title>
		
		<script src="https://kerrishaus.com/assets/scripts/jquery-3.6.0.min.js"></script>
		
		<link rel='stylesheet' id="gameStyles"      href='./assets/styles/game.css' />
		<link rel='stylesheet' id="interfaceStyles" href='./assets/styles/interface.css' />
		
		<script>
            const params = new URLSearchParams(window.location.search);
            
			window.gameDebug = params.has("debug");

            //if (gameDebug)
            {
				$("head").append("<script src='https://portal.kerrishaus.com/assets/javascript/messages.js'><\/script>");
				$("head").append("<link rel='stylesheet' href='https://portal.kerrishaus.com/assets/styles/messages.css' />");

				$(document).ready(function() {
					$("body").append(`
						<div id='debug'>
							<div>
								<span>clientId:</span>
								<span id="debug-clientId"></span>
							</div>
							<div>
								<span>networked:</span>
								<span id="debug-networked"></span>
							</div>
							<div>
								<span>lobbyId:</span>
								<span id="debug-lobbyId"></span>
							</div>
							<div>
								<span>lobbyOwnerId:</span>
								<span id="debug-lobbyOwnerId"></span>
							</div>
							<div>
								<span>clientCount:</span>
								<span id="debug-clientCount"></span>
							</div>
							<div>
								<span>state:</span>
								<span id="debug-state"></span>
							</div>
							<div>
								<span>turn:</span>
								<span id="debug-turn"></span>
							</div>
							<div>
								<span>stage:</span>
								<span id="debug-stage"></span>
							</div>
							<div>
								<span>turnClientId:</span>
								<span id="debug-turnClientId"></span>
							</div>
							<div>
								<span>lastHover:</span>
								<span id="debug-lastHover"></span>
							</div>
							<div>
								<span>lastHoverOwner:</span>
								<span id="debug-lastHoverOwner"></span>
							</div>
							<div>
								<span>lastHoverOwnerColor:</span>
								<span id="debug-lastHoverOwnerColor"></span>
							</div>
						</div>
					`);
				});
            }
        </script>
	</head>
	
	<body>
	    <script type='module'>
			$("head").append("<link rel='stylesheet' id='loadingStyles' href='./assets/styles/loading.css' />");

			$("body").prepend(
				`<div id='loadingCover'>
					<div id='status'>
						<img id='kerris' src='https://kerrishaus.com/assets/logo/text-big.png'></img>
						<img id='threejs' src='https://raw.githubusercontent.com/mrdoob/three.js/43ec48015f23bda9c2a86533343ab3a2e104bfd6/files/icon.svg'></img>
						<img id='webgl' src='https://upload.wikimedia.org/wikipedia/commons/thumb/2/25/WebGL_Logo.svg/1024px-WebGL_Logo.svg.png'></img>
					</div>
					<div class='help'>
						Copyright &copy;&nbsp;<span translate='no'>Kerris Haus</span>
					</div>
				</div>`
			);

			import { StateMachine  } from "./scripts/states/StateMachine.js";
			import { RenderSetupState } from "./scripts/states/RenderSetupState.js";

			setTimeout(() => 
			{
				window.stateManager = new StateMachine();
				stateManager.pushState(new RenderSetupState());
			}, 1000);
		</script>
	</body>
</html>
